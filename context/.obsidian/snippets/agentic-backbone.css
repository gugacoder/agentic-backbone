/* ═══════════════════════════════════════════════════════════════════
   AGENTIC BACKBONE — Obsidian Theme Snippet
   A cybernetic control-center aesthetic for autonomous agent context.
   ═══════════════════════════════════════════════════════════════════ */

/* ── Tokens ──────────────────────────────────────────────────────── */
:root {
  /* Core palette — neutral dark base anchored on #1e1e1e */
  --ab-bg-deep:       #181818;
  --ab-bg-surface:    #1e1e1e;
  --ab-bg-elevated:   #252526;
  --ab-bg-hover:      #2a2d2e;
  --ab-border:        #333333;
  --ab-border-accent: #3e3e42;

  /* Text — warm neutrals against the gray base */
  --ab-text-primary:   #cccccc;
  --ab-text-secondary: #858585;
  --ab-text-muted:     #555555;

  /* Accent spectrum — vivid against neutral backdrop */
  --ab-cyan:    #00d4ff;
  --ab-cyan-dim:#194d5e;
  --ab-blue:    #569cd6;
  --ab-purple:  #c586c0;
  --ab-violet:  #b4a0ff;
  --ab-emerald: #4ec9b0;
  --ab-amber:   #dcdcaa;
  --ab-rose:    #f44747;
  --ab-orange:  #ce9178;

  /* Glow — subtler against neutral bg */
  --ab-glow-cyan:   0 0 16px rgba(0, 212, 255, 0.10);
  --ab-glow-purple: 0 0 16px rgba(197, 134, 192, 0.10);
  --ab-glow-blue:   0 0 16px rgba(86, 156, 214, 0.08);
}

/* ── Base overrides ──────────────────────────────────────────────── */
.theme-dark {
  --background-primary:          var(--ab-bg-surface);
  --background-primary-alt:      var(--ab-bg-elevated);
  --background-secondary:        var(--ab-bg-deep);
  --background-secondary-alt:    var(--ab-bg-elevated);
  --background-modifier-border:  var(--ab-border);
  --background-modifier-hover:   var(--ab-bg-hover);

  --text-normal:    var(--ab-text-primary);
  --text-muted:     var(--ab-text-secondary);
  --text-faint:     var(--ab-text-muted);
  --text-accent:    var(--ab-cyan);
  --interactive-accent:     var(--ab-cyan);
  --interactive-accent-rgb: 0, 212, 255;
  --interactive-accent-hover: var(--ab-blue);
}

body {
  --font-text-size: 15px;
  --tab-outline-color: var(--ab-cyan);
}

/* ── Titlebar ────────────────────────────────────────────────────── */
.titlebar {
  background: var(--ab-bg-deep) !important;
  border-bottom: 1px solid var(--ab-border);
}

/* ── File explorer ───────────────────────────────────────────────── */
.nav-folder-title {
  color: var(--ab-text-secondary);
  font-weight: 600;
  letter-spacing: 0.02em;
}

/* Scope color coding — agents */
.nav-folder-title[data-path^="agents"] {
  color: var(--ab-cyan);
}
.nav-folder-title[data-path^="agents"]::before {
  content: "";
  display: inline-block;
  width: 3px;
  height: 14px;
  background: var(--ab-cyan);
  border-radius: 2px;
  margin-right: 6px;
  vertical-align: middle;
  box-shadow: 0 0 6px rgba(0, 212, 255, 0.3);
}

/* Scope color coding — shared */
.nav-folder-title[data-path^="shared"] {
  color: var(--ab-purple);
}
.nav-folder-title[data-path^="shared"]::before {
  content: "";
  display: inline-block;
  width: 3px;
  height: 14px;
  background: var(--ab-purple);
  border-radius: 2px;
  margin-right: 6px;
  vertical-align: middle;
  box-shadow: 0 0 6px rgba(197, 134, 192, 0.3);
}

/* Scope color coding — system */
.nav-folder-title[data-path^="system"] {
  color: var(--ab-orange);
}
.nav-folder-title[data-path^="system"]::before {
  content: "";
  display: inline-block;
  width: 3px;
  height: 14px;
  background: var(--ab-orange);
  border-radius: 2px;
  margin-right: 6px;
  vertical-align: middle;
  box-shadow: 0 0 6px rgba(206, 145, 120, 0.3);
}

/* Scope color coding — users */
.nav-folder-title[data-path^="users"] {
  color: var(--ab-emerald);
}
.nav-folder-title[data-path^="users"]::before {
  content: "";
  display: inline-block;
  width: 3px;
  height: 14px;
  background: var(--ab-emerald);
  border-radius: 2px;
  margin-right: 6px;
  vertical-align: middle;
  box-shadow: 0 0 6px rgba(78, 201, 176, 0.3);
}

/* File items */
.nav-file-title {
  border-radius: 4px;
  transition: all 0.15s ease;
}

.nav-file-title:hover {
  background: var(--ab-bg-hover);
  box-shadow: inset 3px 0 0 var(--ab-cyan);
}

.nav-file-title.is-active {
  background: var(--ab-bg-hover);
  box-shadow: inset 3px 0 0 var(--ab-cyan), var(--ab-glow-cyan);
}

/* File extension badges */
.nav-file-title-content[data-path$=".mjs"]::after,
.nav-file-title-content[data-path$=".sh"]::after,
.nav-file-title-content[data-path$=".env"]::after,
.nav-file-title-content[data-path$=".jsonl"]::after,
.nav-file-title-content[data-path$=".json"]::after {
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 0.05em;
  padding: 1px 5px;
  border-radius: 3px;
  margin-left: 6px;
  vertical-align: middle;
  font-family: var(--font-monospace);
}

.nav-file-title-content[data-path$=".mjs"]::after {
  content: "JS";
  background: rgba(220, 220, 170, 0.10);
  color: var(--ab-amber);
  border: 1px solid rgba(220, 220, 170, 0.20);
}

.nav-file-title-content[data-path$=".sh"]::after {
  content: "SH";
  background: rgba(78, 201, 176, 0.10);
  color: var(--ab-emerald);
  border: 1px solid rgba(78, 201, 176, 0.20);
}

.nav-file-title-content[data-path$=".env"]::after {
  content: "ENV";
  background: rgba(244, 71, 71, 0.10);
  color: var(--ab-rose);
  border: 1px solid rgba(244, 71, 71, 0.20);
}

.nav-file-title-content[data-path$=".jsonl"]::after {
  content: "JSONL";
  background: rgba(86, 156, 214, 0.10);
  color: var(--ab-blue);
  border: 1px solid rgba(86, 156, 214, 0.20);
}

.nav-file-title-content[data-path$=".json"]::after {
  content: "JSON";
  background: rgba(180, 160, 255, 0.10);
  color: var(--ab-violet);
  border: 1px solid rgba(180, 160, 255, 0.20);
}

/* ── Editor ──────────────────────────────────────────────────────── */
.markdown-source-view,
.markdown-preview-view {
  font-family: var(--font-text-override, Inter, -apple-system, BlinkMacSystemFont, sans-serif);
  line-height: 1.75;
}

/* Headings */
.markdown-preview-view h1,
.cm-header-1 {
  color: var(--ab-cyan) !important;
  font-weight: 800;
  letter-spacing: -0.02em;
  text-shadow: 0 0 30px rgba(0, 212, 255, 0.12);
  border-bottom: 1px solid var(--ab-cyan-dim);
  padding-bottom: 0.3em;
}

.markdown-preview-view h2,
.cm-header-2 {
  color: var(--ab-violet) !important;
  font-weight: 700;
  letter-spacing: -0.01em;
}

.markdown-preview-view h3,
.cm-header-3 {
  color: var(--ab-blue) !important;
  font-weight: 600;
}

.markdown-preview-view h4,
.cm-header-4,
.markdown-preview-view h5,
.cm-header-5,
.markdown-preview-view h6,
.cm-header-6 {
  color: var(--ab-text-secondary) !important;
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.85em;
  letter-spacing: 0.06em;
}

/* ── YAML Frontmatter — the nerve center ─────────────────────────── */
.cm-hmd-frontmatter,
.frontmatter-container {
  font-family: var(--font-monospace) !important;
  font-size: 13px;
}

.cm-hmd-frontmatter {
  color: var(--ab-text-secondary) !important;
}

/* Frontmatter keys glow */
.cm-hmd-frontmatter.cm-atom {
  color: var(--ab-cyan) !important;
}

.frontmatter-container {
  background: var(--ab-bg-deep) !important;
  border: 1px solid var(--ab-border-accent) !important;
  border-left: 3px solid var(--ab-cyan) !important;
  border-radius: 6px;
  padding: 12px 16px;
  box-shadow: var(--ab-glow-cyan);
}

.frontmatter-container .frontmatter-container-header {
  color: var(--ab-cyan);
  text-transform: uppercase;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.1em;
}

/* Properties view styling */
.metadata-container {
  background: var(--ab-bg-deep);
  border: 1px solid var(--ab-border-accent);
  border-left: 3px solid var(--ab-cyan);
  border-radius: 6px;
  box-shadow: var(--ab-glow-cyan);
}

.metadata-property-key {
  color: var(--ab-cyan) !important;
  font-family: var(--font-monospace);
  font-size: 12px;
  font-weight: 600;
}

.metadata-property-value {
  font-family: var(--font-monospace);
  font-size: 12px;
}

/* ── Code blocks ─────────────────────────────────────────────────── */
.markdown-preview-view code,
.cm-s-obsidian .cm-inline-code {
  background: var(--ab-bg-deep);
  color: var(--ab-cyan);
  border: 1px solid var(--ab-border);
  border-radius: 4px;
  padding: 2px 6px;
  font-size: 0.9em;
}

.markdown-preview-view pre,
.cm-s-obsidian .HyperMD-codeblock-bg {
  background: var(--ab-bg-deep) !important;
  border: 1px solid var(--ab-border-accent);
  border-radius: 8px;
}

/* Code block language label */
.markdown-preview-view pre[class*="language-"]::before {
  color: var(--ab-text-muted);
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

/* ── Links ───────────────────────────────────────────────────────── */
.cm-s-obsidian .cm-link,
.cm-s-obsidian .cm-hmd-internal-link,
.markdown-preview-view a.internal-link {
  color: var(--ab-cyan) !important;
  text-decoration: none;
  transition: all 0.15s ease;
}

.markdown-preview-view a.internal-link:hover {
  color: #fff !important;
  text-shadow: 0 0 12px rgba(0, 212, 255, 0.5);
}

/* Unresolved links */
.markdown-preview-view a.internal-link.is-unresolved,
.cm-s-obsidian .is-unresolved {
  color: var(--ab-text-muted) !important;
  opacity: 0.6;
}

/* ── Blockquotes ─────────────────────────────────────────────────── */
.markdown-preview-view blockquote,
.cm-s-obsidian .HyperMD-quote {
  border-left: 3px solid var(--ab-purple) !important;
  background: rgba(197, 134, 192, 0.06);
  padding: 8px 16px;
  border-radius: 0 6px 6px 0;
  color: var(--ab-text-secondary);
}

/* ── Callouts ────────────────────────────────────────────────────── */
.callout {
  border-radius: 8px;
  border-left-width: 3px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* ── Tags ────────────────────────────────────────────────────────── */
.tag,
.cm-s-obsidian .cm-hashtag {
  background: rgba(0, 212, 255, 0.08);
  color: var(--ab-cyan) !important;
  border: 1px solid rgba(0, 212, 255, 0.15);
  border-radius: 4px;
  padding: 1px 6px;
  font-size: 0.85em;
  font-weight: 500;
}

.tag:hover {
  background: rgba(0, 212, 255, 0.15);
  box-shadow: 0 0 8px rgba(0, 212, 255, 0.15);
}

/* ── Tables ──────────────────────────────────────────────────────── */
.markdown-preview-view table {
  border-collapse: collapse;
  width: 100%;
}

.markdown-preview-view th {
  background: var(--ab-bg-deep);
  color: var(--ab-cyan);
  text-transform: uppercase;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.06em;
  border-bottom: 2px solid var(--ab-cyan-dim);
  padding: 10px 14px;
}

.markdown-preview-view td {
  border-bottom: 1px solid var(--ab-border);
  padding: 8px 14px;
}

.markdown-preview-view tr:hover td {
  background: var(--ab-bg-hover);
}

/* ── Checkboxes ──────────────────────────────────────────────────── */
.markdown-preview-view .task-list-item-checkbox:checked {
  background: var(--ab-emerald);
  border-color: var(--ab-emerald);
  box-shadow: 0 0 6px rgba(16, 185, 129, 0.4);
}

/* ── Horizontal rules ────────────────────────────────────────────── */
.markdown-preview-view hr {
  border: none;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    var(--ab-border-accent) 20%,
    var(--ab-cyan-dim) 50%,
    var(--ab-border-accent) 80%,
    transparent
  );
  margin: 2em 0;
}

/* ── Tabs ────────────────────────────────────────────────────────── */
.workspace-tab-header {
  border-radius: 6px 6px 0 0;
  transition: all 0.15s ease;
}

.workspace-tab-header.is-active {
  box-shadow: inset 0 -2px 0 var(--ab-cyan);
}

/* ── Status bar ──────────────────────────────────────────────────── */
.status-bar {
  background: var(--ab-bg-deep);
  border-top: 1px solid var(--ab-border);
  font-size: 11px;
  color: var(--ab-text-muted);
}

/* ── Search ──────────────────────────────────────────────────────── */
.search-result-file-title {
  color: var(--ab-cyan);
  font-weight: 600;
}

.search-result-file-matched-text {
  color: #fff;
  background: rgba(0, 212, 255, 0.2);
}

/* ── Graph view ──────────────────────────────────────────────────── */
.graph-view.color-fill {
  color: var(--ab-cyan);
}

.graph-view.color-line {
  color: var(--ab-border-accent);
}

.graph-view.color-arrow {
  color: var(--ab-text-muted);
}

/* ── Scrollbar ───────────────────────────────────────────────────── */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: var(--ab-bg-deep);
}

::-webkit-scrollbar-thumb {
  background: var(--ab-border-accent);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--ab-cyan-dim);
}

/* ── Special file type indicators in editor ──────────────────────── */
/* AGENT.md, SOUL.md, HEARTBEAT.md, TASK.md identifiers */
.workspace-leaf[data-type="markdown"] .view-header-title-container
  .view-header-title::before {
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.06em;
  padding: 1px 6px;
  border-radius: 3px;
  margin-right: 8px;
  vertical-align: middle;
}

/* ── Modals & Prompts ────────────────────────────────────────────── */
.modal {
  background: var(--ab-bg-elevated);
  border: 1px solid var(--ab-border-accent);
  border-radius: 12px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), var(--ab-glow-blue);
}

.prompt {
  background: var(--ab-bg-elevated);
  border: 1px solid var(--ab-border-accent);
  border-radius: 10px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), var(--ab-glow-blue);
}

.prompt-input {
  background: var(--ab-bg-deep);
  border: 1px solid var(--ab-border-accent);
  border-radius: 6px;
  color: var(--ab-text-primary);
}

.suggestion-item.is-selected {
  background: var(--ab-bg-hover);
  border-left: 2px solid var(--ab-cyan);
}

/* ── Tooltip ─────────────────────────────────────────────────────── */
.tooltip {
  background: var(--ab-bg-deep) !important;
  border: 1px solid var(--ab-border-accent);
  color: var(--ab-text-primary);
  border-radius: 6px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
}

/* ── Ribbon (left sidebar icons) ─────────────────────────────────── */
.side-dock-ribbon-action:hover {
  color: var(--ab-cyan);
}

/* ── Subtle animation on focus ───────────────────────────────────── */
.cm-s-obsidian .cm-cursor {
  border-left-color: var(--ab-cyan) !important;
  border-left-width: 2px;
}

/* Active line highlight */
.cm-active {
  background: rgba(255, 255, 255, 0.03) !important;
}

/* Selection */
::selection {
  background: rgba(0, 212, 255, 0.18);
}

.cm-s-obsidian .cm-selectionMatch {
  background: rgba(0, 212, 255, 0.10);
}

/* ── Dataview integration styling ────────────────────────────────── */
.dataview.table-view-table th {
  background: var(--ab-bg-deep);
  color: var(--ab-cyan);
  text-transform: uppercase;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.06em;
}

.dataview.table-view-table tr:hover td {
  background: var(--ab-bg-hover);
}

/* ── Kanban board styling ────────────────────────────────────────── */
.kanban-plugin__board {
  background: var(--ab-bg-deep) !important;
}

.kanban-plugin__lane {
  background: var(--ab-bg-surface) !important;
  border: 1px solid var(--ab-border) !important;
  border-radius: 8px !important;
}

.kanban-plugin__lane-title-text {
  color: var(--ab-cyan) !important;
  font-weight: 700 !important;
  text-transform: uppercase;
  font-size: 11px;
  letter-spacing: 0.06em;
}

.kanban-plugin__item {
  background: var(--ab-bg-elevated) !important;
  border: 1px solid var(--ab-border) !important;
  border-radius: 6px !important;
}

.kanban-plugin__item:hover {
  border-color: var(--ab-cyan) !important;
  box-shadow: var(--ab-glow-cyan);
}

/* ── File icons — SVG mask-image (Lucide-style, cross-platform) ──── */

/*
 * Uses inline SVG data URIs as CSS masks. The icon shape comes from the
 * mask; the color comes from background-color. No emoji, no external
 * font, renders identically on every machine.
 *
 * Strategy: .nav-file-title[data-path]::before as a flex child.
 * If your Obsidian version puts data-path only on the inner element,
 * swap .nav-file-title → .nav-file-title-content below.
 */

/* --- SVG icon definitions (Lucide-inspired, 24x24 stroke) --- */
:root {
  --ico-braces:   url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5a2 2 0 0 0 2 2h1'/%3E%3Cpath d='M16 21h1a2 2 0 0 0 2-2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1'/%3E%3C/svg%3E");
  --ico-code:     url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='16 18 22 12 16 6'/%3E%3Cpolyline points='8 6 2 12 8 18'/%3E%3C/svg%3E");
  --ico-hash:     url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='4' y1='9' x2='20' y2='9'/%3E%3Cline x1='4' y1='15' x2='20' y2='15'/%3E%3Cline x1='10' y1='3' x2='8' y2='21'/%3E%3Cline x1='16' y1='3' x2='14' y2='21'/%3E%3C/svg%3E");
  --ico-globe:    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpath d='M2 12h20'/%3E%3Cpath d='M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z'/%3E%3C/svg%3E");
  --ico-terminal: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='4 17 10 11 4 5'/%3E%3Cline x1='12' y1='19' x2='20' y2='19'/%3E%3C/svg%3E");
  --ico-database: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cellipse cx='12' cy='5' rx='9' ry='3'/%3E%3Cpath d='M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5'/%3E%3Cpath d='M3 12c0 1.66 4.03 3 9 3s9-1.34 9-3'/%3E%3C/svg%3E");
  --ico-sliders:  url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='4' y1='21' x2='4' y2='14'/%3E%3Cline x1='4' y1='10' x2='4' y2='3'/%3E%3Cline x1='12' y1='21' x2='12' y2='12'/%3E%3Cline x1='12' y1='8' x2='12' y2='3'/%3E%3Cline x1='20' y1='21' x2='20' y2='16'/%3E%3Cline x1='20' y1='12' x2='20' y2='3'/%3E%3Cline x1='1' y1='14' x2='7' y2='14'/%3E%3Cline x1='9' y1='8' x2='15' y2='8'/%3E%3Cline x1='17' y1='16' x2='23' y2='16'/%3E%3C/svg%3E");
  --ico-filetxt:  url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z'/%3E%3Cpolyline points='14 2 14 8 20 8'/%3E%3Cline x1='16' y1='13' x2='8' y2='13'/%3E%3Cline x1='16' y1='17' x2='8' y2='17'/%3E%3C/svg%3E");
  --ico-file:     url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z'/%3E%3Cpolyline points='14 2 14 8 20 8'/%3E%3C/svg%3E");
  --ico-box:      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z'/%3E%3Cpolyline points='3.27 6.96 12 12.01 20.73 6.96'/%3E%3Cline x1='12' y1='22.08' x2='12' y2='12'/%3E%3C/svg%3E");
  --ico-bot:      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='4' y='8' width='16' height='12' rx='2'/%3E%3Cpath d='M12 2v6'/%3E%3Cpath d='M9 13v2'/%3E%3Cpath d='M15 13v2'/%3E%3C/svg%3E");
  --ico-eye:      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z'/%3E%3Ccircle cx='12' cy='12' r='3'/%3E%3C/svg%3E");
  --ico-pulse:    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='22 12 18 12 15 21 9 3 6 12 2 12'/%3E%3C/svg%3E");
  --ico-bookmark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z'/%3E%3C/svg%3E");
  --ico-zap:      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolygon points='13 2 3 14 12 14 11 22 21 10 12 10 13 2'/%3E%3C/svg%3E");
  --ico-chat:     url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z'/%3E%3C/svg%3E");
  --ico-user:     url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E");
  --ico-radio:    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='2'/%3E%3Cpath d='M16.24 7.76a6 6 0 0 1 0 8.49'/%3E%3Cpath d='M7.76 16.24a6 6 0 0 1 0-8.49'/%3E%3C/svg%3E");
  --ico-plug:     url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 22v-5'/%3E%3Cpath d='M9 8V2'/%3E%3Cpath d='M15 8V2'/%3E%3Cpath d='M18 8v3a6 6 0 0 1-12 0V8'/%3E%3C/svg%3E");
  --ico-target:   url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Ccircle cx='12' cy='12' r='6'/%3E%3Ccircle cx='12' cy='12' r='2'/%3E%3C/svg%3E");
  --ico-wrench:   url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z'/%3E%3C/svg%3E");
}

/* --- Base ::before for ALL icons (extensions + context files) --- */
.nav-file-title[data-path$=".js"]::before,
.nav-file-title[data-path$=".mjs"]::before,
.nav-file-title[data-path$=".cjs"]::before,
.nav-file-title[data-path$=".ts"]::before,
.nav-file-title[data-path$=".tsx"]::before,
.nav-file-title[data-path$=".jsx"]::before,
.nav-file-title[data-path$=".mts"]::before,
.nav-file-title[data-path$=".cts"]::before,
.nav-file-title[data-path$=".py"]::before,
.nav-file-title[data-path$=".pyw"]::before,
.nav-file-title[data-path$=".pyi"]::before,
.nav-file-title[data-path$=".css"]::before,
.nav-file-title[data-path$=".scss"]::before,
.nav-file-title[data-path$=".sass"]::before,
.nav-file-title[data-path$=".less"]::before,
.nav-file-title[data-path$=".html"]::before,
.nav-file-title[data-path$=".htm"]::before,
.nav-file-title[data-path$=".c"]::before,
.nav-file-title[data-path$=".h"]::before,
.nav-file-title[data-path$=".cpp"]::before,
.nav-file-title[data-path$=".hpp"]::before,
.nav-file-title[data-path$=".cc"]::before,
.nav-file-title[data-path$=".go"]::before,
.nav-file-title[data-path$=".rs"]::before,
.nav-file-title[data-path$=".java"]::before,
.nav-file-title[data-path$=".lua"]::before,
.nav-file-title[data-path$=".php"]::before,
.nav-file-title[data-path$=".cs"]::before,
.nav-file-title[data-path$=".rb"]::before,
.nav-file-title[data-path$=".json"]::before,
.nav-file-title[data-path$=".jsonc"]::before,
.nav-file-title[data-path$=".yaml"]::before,
.nav-file-title[data-path$=".yml"]::before,
.nav-file-title[data-path$=".toml"]::before,
.nav-file-title[data-path$=".xml"]::before,
.nav-file-title[data-path$=".ini"]::before,
.nav-file-title[data-path$=".env"]::before,
.nav-file-title[data-path$=".sh"]::before,
.nav-file-title[data-path$=".bash"]::before,
.nav-file-title[data-path$=".zsh"]::before,
.nav-file-title[data-path$=".ps1"]::before,
.nav-file-title[data-path$=".bat"]::before,
.nav-file-title[data-path$=".cmd"]::before,
.nav-file-title[data-path$=".sql"]::before,
.nav-file-title[data-path$=".graphql"]::before,
.nav-file-title[data-path$=".prisma"]::before,
.nav-file-title[data-path$=".conf"]::before,
.nav-file-title[data-path$=".nginx"]::before,
.nav-file-title[data-path$=".mdx"]::before,
.nav-file-title[data-path$=".txt"]::before,
.nav-file-title[data-path$=".log"]::before,
.nav-file-title[data-path$=".csv"]::before,
.nav-file-title[data-path$="Dockerfile"]::before,
.nav-file-title[data-path$="AGENT.md"]::before,
.nav-file-title[data-path$="SOUL.md"]::before,
.nav-file-title[data-path$="HEARTBEAT.md"]::before,
.nav-file-title[data-path$="MEMORY.md"]::before,
.nav-file-title[data-path$="TASK.md"]::before,
.nav-file-title[data-path$="SESSION.md"]::before,
.nav-file-title[data-path$="USER.md"]::before,
.nav-file-title[data-path$="CHANNEL.md"]::before,
.nav-file-title[data-path$="ADAPTER.md"]::before,
.nav-file-title[data-path$="SKILL.md"]::before,
.nav-file-title[data-path$="TOOL.md"]::before,
.nav-file-title[data-path$="llm.json"]::before {
  content: "";
  flex-shrink: 0;
  display: inline-block;
  width: 15px;
  height: 15px;
  margin-right: 5px;
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;
  align-self: center;
}

/* === EXTENSION ICONS ================================================ */

/* JS (braces, amber) */
.nav-file-title[data-path$=".js"]::before,
.nav-file-title[data-path$=".mjs"]::before,
.nav-file-title[data-path$=".cjs"]::before {
  -webkit-mask-image: var(--ico-braces); mask-image: var(--ico-braces);
  background-color: #dcdcaa;
}

/* TS/JSX/TSX (braces, blue) */
.nav-file-title[data-path$=".ts"]::before,
.nav-file-title[data-path$=".tsx"]::before,
.nav-file-title[data-path$=".jsx"]::before,
.nav-file-title[data-path$=".mts"]::before,
.nav-file-title[data-path$=".cts"]::before {
  -webkit-mask-image: var(--ico-braces); mask-image: var(--ico-braces);
  background-color: #569cd6;
}

/* Python (code chevrons, green) */
.nav-file-title[data-path$=".py"]::before,
.nav-file-title[data-path$=".pyw"]::before,
.nav-file-title[data-path$=".pyi"]::before {
  -webkit-mask-image: var(--ico-code); mask-image: var(--ico-code);
  background-color: #4ec9b0;
}

/* CSS/Styles (hash, pink-purple) */
.nav-file-title[data-path$=".css"]::before,
.nav-file-title[data-path$=".scss"]::before,
.nav-file-title[data-path$=".sass"]::before,
.nav-file-title[data-path$=".less"]::before {
  -webkit-mask-image: var(--ico-hash); mask-image: var(--ico-hash);
  background-color: #c586c0;
}

/* HTML (globe, orange) */
.nav-file-title[data-path$=".html"]::before,
.nav-file-title[data-path$=".htm"]::before {
  -webkit-mask-image: var(--ico-globe); mask-image: var(--ico-globe);
  background-color: #ce9178;
}

/* XML (globe, muted) */
.nav-file-title[data-path$=".xml"]::before {
  -webkit-mask-image: var(--ico-globe); mask-image: var(--ico-globe);
  background-color: #858585;
}

/* MDX (globe, blue) */
.nav-file-title[data-path$=".mdx"]::before {
  -webkit-mask-image: var(--ico-globe); mask-image: var(--ico-globe);
  background-color: #569cd6;
}

/* C/C++ (code, blue) */
.nav-file-title[data-path$=".c"]::before,
.nav-file-title[data-path$=".h"]::before,
.nav-file-title[data-path$=".cpp"]::before,
.nav-file-title[data-path$=".hpp"]::before,
.nav-file-title[data-path$=".cc"]::before {
  -webkit-mask-image: var(--ico-code); mask-image: var(--ico-code);
  background-color: #569cd6;
}

/* Go (code, teal) */
.nav-file-title[data-path$=".go"]::before {
  -webkit-mask-image: var(--ico-code); mask-image: var(--ico-code);
  background-color: #4ec9b0;
}

/* Rust (code, orange) */
.nav-file-title[data-path$=".rs"]::before {
  -webkit-mask-image: var(--ico-code); mask-image: var(--ico-code);
  background-color: #ce9178;
}

/* Java (code, red) */
.nav-file-title[data-path$=".java"]::before {
  -webkit-mask-image: var(--ico-code); mask-image: var(--ico-code);
  background-color: #f44747;
}

/* Lua (code, blue) */
.nav-file-title[data-path$=".lua"]::before {
  -webkit-mask-image: var(--ico-code); mask-image: var(--ico-code);
  background-color: #569cd6;
}

/* PHP (code, violet) */
.nav-file-title[data-path$=".php"]::before {
  -webkit-mask-image: var(--ico-code); mask-image: var(--ico-code);
  background-color: #b4a0ff;
}

/* C# (code, violet) */
.nav-file-title[data-path$=".cs"]::before {
  -webkit-mask-image: var(--ico-code); mask-image: var(--ico-code);
  background-color: #b4a0ff;
}

/* Ruby (code, red) */
.nav-file-title[data-path$=".rb"]::before {
  -webkit-mask-image: var(--ico-code); mask-image: var(--ico-code);
  background-color: #f44747;
}

/* JSON (braces, muted) */
.nav-file-title[data-path$=".json"]::before,
.nav-file-title[data-path$=".jsonc"]::before {
  -webkit-mask-image: var(--ico-braces); mask-image: var(--ico-braces);
  background-color: #858585;
}

/* Config — YAML, TOML, INI, conf, nginx (sliders, muted) */
.nav-file-title[data-path$=".yaml"]::before,
.nav-file-title[data-path$=".yml"]::before,
.nav-file-title[data-path$=".toml"]::before,
.nav-file-title[data-path$=".ini"]::before,
.nav-file-title[data-path$=".conf"]::before,
.nav-file-title[data-path$=".nginx"]::before {
  -webkit-mask-image: var(--ico-sliders); mask-image: var(--ico-sliders);
  background-color: #858585;
}

/* ENV (sliders, rose) */
.nav-file-title[data-path$=".env"]::before {
  -webkit-mask-image: var(--ico-sliders); mask-image: var(--ico-sliders);
  background-color: #f44747;
}

/* Shell — sh, bash, zsh (terminal, green) */
.nav-file-title[data-path$=".sh"]::before,
.nav-file-title[data-path$=".bash"]::before,
.nav-file-title[data-path$=".zsh"]::before {
  -webkit-mask-image: var(--ico-terminal); mask-image: var(--ico-terminal);
  background-color: #4ec9b0;
}

/* PowerShell & Batch (terminal, blue) */
.nav-file-title[data-path$=".ps1"]::before,
.nav-file-title[data-path$=".bat"]::before,
.nav-file-title[data-path$=".cmd"]::before {
  -webkit-mask-image: var(--ico-terminal); mask-image: var(--ico-terminal);
  background-color: #569cd6;
}

/* SQL (database, blue) */
.nav-file-title[data-path$=".sql"]::before {
  -webkit-mask-image: var(--ico-database); mask-image: var(--ico-database);
  background-color: #569cd6;
}

/* GraphQL (database, purple) */
.nav-file-title[data-path$=".graphql"]::before {
  -webkit-mask-image: var(--ico-database); mask-image: var(--ico-database);
  background-color: #c586c0;
}

/* Prisma (database, teal) */
.nav-file-title[data-path$=".prisma"]::before {
  -webkit-mask-image: var(--ico-database); mask-image: var(--ico-database);
  background-color: #4ec9b0;
}

/* Dockerfile (box, blue) */
.nav-file-title[data-path$="Dockerfile"]::before {
  -webkit-mask-image: var(--ico-box); mask-image: var(--ico-box);
  background-color: #569cd6;
}

/* Text & Log (file-text, muted) */
.nav-file-title[data-path$=".txt"]::before,
.nav-file-title[data-path$=".log"]::before {
  -webkit-mask-image: var(--ico-filetxt); mask-image: var(--ico-filetxt);
  background-color: #858585;
}

/* CSV (file-text, green) */
.nav-file-title[data-path$=".csv"]::before {
  -webkit-mask-image: var(--ico-filetxt); mask-image: var(--ico-filetxt);
  background-color: #4ec9b0;
}

/* === CONTEXT RESOURCE ICONS ========================================= */

/* AGENT.md — bot */
.nav-file-title[data-path$="AGENT.md"]::before {
  -webkit-mask-image: var(--ico-bot); mask-image: var(--ico-bot);
  background-color: var(--ab-cyan);
}
.nav-file-title[data-path$="AGENT.md"] .nav-file-title-content {
  color: var(--ab-cyan) !important; font-weight: 600;
}

/* SOUL.md — eye */
.nav-file-title[data-path$="SOUL.md"]::before {
  -webkit-mask-image: var(--ico-eye); mask-image: var(--ico-eye);
  background-color: var(--ab-violet);
}
.nav-file-title[data-path$="SOUL.md"] .nav-file-title-content {
  color: var(--ab-violet) !important;
}

/* HEARTBEAT.md — activity pulse */
.nav-file-title[data-path$="HEARTBEAT.md"]::before {
  -webkit-mask-image: var(--ico-pulse); mask-image: var(--ico-pulse);
  background-color: var(--ab-rose);
}
.nav-file-title[data-path$="HEARTBEAT.md"] .nav-file-title-content {
  color: var(--ab-rose) !important;
}

/* MEMORY.md — bookmark */
.nav-file-title[data-path$="MEMORY.md"]::before {
  -webkit-mask-image: var(--ico-bookmark); mask-image: var(--ico-bookmark);
  background-color: var(--ab-purple);
}
.nav-file-title[data-path$="MEMORY.md"] .nav-file-title-content {
  color: var(--ab-purple) !important;
}

/* TASK.md — zap */
.nav-file-title[data-path$="TASK.md"]::before {
  -webkit-mask-image: var(--ico-zap); mask-image: var(--ico-zap);
  background-color: var(--ab-amber);
}
.nav-file-title[data-path$="TASK.md"] .nav-file-title-content {
  color: var(--ab-amber) !important;
}

/* SESSION.md — chat */
.nav-file-title[data-path$="SESSION.md"]::before {
  -webkit-mask-image: var(--ico-chat); mask-image: var(--ico-chat);
  background-color: var(--ab-text-secondary);
}

/* USER.md — user */
.nav-file-title[data-path$="USER.md"]::before {
  -webkit-mask-image: var(--ico-user); mask-image: var(--ico-user);
  background-color: var(--ab-emerald);
}
.nav-file-title[data-path$="USER.md"] .nav-file-title-content {
  color: var(--ab-emerald) !important;
}

/* CHANNEL.md — radio */
.nav-file-title[data-path$="CHANNEL.md"]::before {
  -webkit-mask-image: var(--ico-radio); mask-image: var(--ico-radio);
  background-color: var(--ab-blue);
}
.nav-file-title[data-path$="CHANNEL.md"] .nav-file-title-content {
  color: var(--ab-blue) !important;
}

/* ADAPTER.md — plug */
.nav-file-title[data-path$="ADAPTER.md"]::before {
  -webkit-mask-image: var(--ico-plug); mask-image: var(--ico-plug);
  background-color: var(--ab-orange);
}
.nav-file-title[data-path$="ADAPTER.md"] .nav-file-title-content {
  color: var(--ab-orange) !important;
}

/* SKILL.md — target */
.nav-file-title[data-path$="SKILL.md"]::before {
  -webkit-mask-image: var(--ico-target); mask-image: var(--ico-target);
  background-color: var(--ab-emerald);
}
.nav-file-title[data-path$="SKILL.md"] .nav-file-title-content {
  color: var(--ab-emerald) !important;
}

/* TOOL.md — wrench */
.nav-file-title[data-path$="TOOL.md"]::before {
  -webkit-mask-image: var(--ico-wrench); mask-image: var(--ico-wrench);
  background-color: var(--ab-text-secondary);
}

/* llm.json — sliders */
.nav-file-title[data-path$="llm.json"]::before {
  -webkit-mask-image: var(--ico-sliders); mask-image: var(--ico-sliders);
  background-color: var(--ab-text-secondary);
}

/* ── Empty state ─────────────────────────────────────────────────── */
.empty-state-title {
  color: var(--ab-cyan);
}

.empty-state-action {
  color: var(--ab-text-secondary);
}
